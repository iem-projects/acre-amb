#N canvas 584 113 551 393 10;
#X declare -lib zexy;
#X declare -lib iemlib1;
#X declare -lib iemlib2;
#X declare -path ../../;
#N canvas 540 97 450 464 init 0;
#X obj 30 40 declare -lib zexy;
#X obj 27 65 declare -lib iemlib1;
#X obj 33 89 declare -lib iemlib2;
#X obj 32 11 declare -path ../../;
#X obj 86 201 amb/initbangs;
#X obj 43 135 loadbang;
#X msg 311 215 \; pd dsp \$1;
#X obj 312 183 r /amb/cal/dsp;
#X msg 45 259 \; /amb/cal/dsp 1;
#X obj 132 155 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 65 231 s /amb/cal/initbang;
#X obj 44 161 t b b b b;
#X connect 5 0 11 0;
#X connect 7 0 6 0;
#X connect 9 0 4 0;
#X connect 11 0 8 0;
#X connect 11 1 10 0;
#X connect 11 2 4 0;
#X restore 30 28 pd init;
#N canvas 326 109 450 449 OUT 0;
#X obj 101 101 cnv 15 148 198 empty empty ADC/DAC 2 7 0 14 -233017
-66577 0;
#X obj 104 131 vsl 15 128 0 127 0 0 /amb/cal/out/vol /amb/cal/out/vol
master 0 -9 0 10 -258113 -1 -1 0 1;
#X obj 103 269 nbx 3 14 -1e+37 1e+37 0 0 /amb/cal/out/vol /amb/cal/out/vol
empty 0 -8 0 10 -258113 -1 -1 0 256;
#X obj 134 139 vu 15 120 /amb/cal/out/vu DAC -1 -8 0 10 -66577 -1 1
0;
#X obj 197 139 vu 15 120 /amb/cal/adc/vu ADC -1 -8 0 10 -66577 -1 1
0;
#X text 200 269 IN;
#X coords 0 -1 1 1 150 200 1 100 100;
#X restore 28 55 pd OUT;
#N canvas 523 342 257 405 signal_in 0;
#X obj 11 11 cnv 15 98 198 empty empty pre-amp/limit 2 7 0 10 -228856
-66577 0;
#X obj 66 41 vu 15 120 /amb/cal/in/vu input -1 -8 0 10 -66577 -1 1
0;
#X obj 17 40 vsl 15 128 0 127 0 0 /amb/cal/in/vol /amb/cal/in/vol vol
0 -9 0 10 -204786 -1 -1 0 1;
#X obj 17 174 nbx 3 14 -1e+37 1e+37 0 0 /amb/cal/in/vol /amb/cal/in/vol
empty 0 -8 0 10 -204786 -1 -1 0 256;
#X obj 50 42 vsl 8 100 -100 0 0 0 /amb/cal/in/lim /amb/cal/in/lim lim
-5 -9 0 10 -262144 -1 -1 0 1;
#X coords 0 -1 1 1 100 200 1 10 10;
#X restore 178 55 pd signal_in;
#N canvas 246 267 257 258 signal_gen 0;
#X obj 11 11 cnv 15 98 198 empty empty noise-gen 2 7 0 10 -228856 -66577
0;
#X obj 62 61 vu 15 120 /amb/cal/noise/vu noise -1 -8 0 10 -66577 -1
1 0;
#X obj 17 40 vsl 15 128 0 127 0 0 /amb/cal/noise/vol /amb/cal/noise/vol
vol 0 -9 0 10 -204786 -1 -1 0 1;
#X obj 17 174 nbx 3 14 -1e+37 1e+37 0 0 /amb/cal/noise/vol /amb/cal/noise/vol
empty 0 -8 0 10 -204786 -1 -1 0 256;
#X obj 62 28 tgl 15 0 /amb/cal/noise/on /amb/cal/noise/on on 17 7 0
10 -204786 -1 -1 0 1;
#X coords 0 -1 1 1 100 200 2 10 10;
#X restore 278 55 pd signal_gen;
#X text 126 16 Correlation to measure delays;
#X obj 256 323 bng 15 250 50 0 /corr/trigger /corr/trigger /corr/trigger
17 7 0 10 -257985 -1 -1;
#X obj 254 348 tgl 15 0 /corr/v /corr/v /corr/v 17 7 0 10 -257985 -1
-1 0 1;
#X obj 265 292 nbx 3 14 -1e+37 1e+37 0 0 /corr/y /corr/y corr_y 0 -8
0 10 -257985 -1 -1 90 256;
#N canvas 723 518 450 300 DSP 0;
#N canvas 435 243 302 273 noise 0;
#X obj 21 240 outlet~;
#X obj 22 161 *~;
#X obj 86 75 dbtorms;
#X obj 86 97 pack 0 50;
#X obj 86 119 line~;
#X obj 21 97 noise~;
#X obj 36 184 prvu~;
#X obj 21 49 switch~;
#X obj 21 23 r /amb/cal/noise/on;
#X obj 86 50 r /amb/cal/noise/vol;
#X obj 51 219 s /amb/cal/noise/vu;
#X obj 21 121 hip~ 20;
#X connect 1 0 6 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 5 0 11 0;
#X connect 6 0 10 0;
#X connect 8 0 7 0;
#X connect 9 0 2 0;
#X connect 11 0 1 0;
#X restore 185 83 pd noise;
#X obj 194 109 throw~ out~;
#N canvas 494 435 381 300 input 0;
#X obj 20 56 r~ in1;
#X obj 20 110 *~;
#X obj 60 145 limiter~;
#X obj 20 144 z~ 9;
#X obj 20 166 *~;
#X obj 53 220 prvu~;
#X obj 98 78 dbtorms;
#X obj 98 100 pack 0 50;
#X obj 99 120 line~;
#X obj 63 171 rvu~;
#X obj 23 264 outlet~;
#X obj 53 243 s /amb/cal/in/vu;
#X obj 98 53 r /amb/cal/in/vol;
#X obj 63 194 s /amb/cal/in/lim;
#X text 127 151 limit to get sure;
#X text 66 11 prepare input from micro;
#X obj 20 78 hip~ 20;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 4 1;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 10 0;
#X connect 5 0 11 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 1 1;
#X connect 9 0 13 0;
#X connect 12 0 6 0;
#X connect 16 0 1 0;
#X restore 66 84 pd input;
#X obj 65 111 correlation 16384;
#N canvas 642 629 450 194 ADC 0;
#X obj 178 71 prvu~;
#X obj 107 64 s~ in1;
#X obj 107 33 adc~ 5;
#X obj 180 93 s /amb/cal/adc/vu;
#X text 173 34 Set ADC number;
#X connect 0 0 3 0;
#X connect 2 0 0 0;
#X connect 2 0 1 0;
#X restore 66 37 pd ADC;
#N canvas 578 633 499 300 DACs 0;
#X obj 108 35 amb/outs boxen 13 /out;
#X obj 107 66 r /amb/cal/initbang;
#X obj 106 120 acre/count_until;
#X obj 153 95 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 108 93 i 13;
#X msg 108 151 \; /out-\$1/vol 100 \; /out-\$1/del 0;
#X obj 279 65 amb/outs_ds boxen 13 /out /set;
#X obj 279 94 ds/storage_logic /set;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X restore 141 37 pd DACs;
#N canvas 1059 708 450 300 output 0;
#X obj 102 77 dbtorms;
#X obj 100 102 pack 0 50;
#X obj 100 124 line~;
#X obj 83 148 *~;
#X obj 92 170 prvu~;
#X obj 81 30 catch~ out~;
#X obj 83 227 outlet~;
#X obj 102 57 r /amb/cal/out/vol;
#X obj 94 192 s /amb/cal/out/vu;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 8 0;
#X connect 5 0 3 0;
#X connect 7 0 0 0;
#X restore 277 83 pd output;
#X obj 284 133 dac~ 1;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 2 0 3 0;
#X connect 6 0 7 0;
#X restore 95 30 pd DSP;
#X obj 111 277 amb/outs_ctl boxen 13 /out;
#X obj 402 58 ds/ctl /set;
